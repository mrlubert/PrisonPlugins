/*    */ package my.mc47y.me.KappaKorrectional.cmds;
/*    */ 
/*    */ import my.mc47y.me.KappaKorrectional.Main;
/*    */ import my.mc47y.me.KappaKorrectional.utils.XPMineUtils;
/*    */ import net.md_5.bungee.api.ChatColor;
/*    */ import org.bukkit.command.Command;
/*    */ import org.bukkit.command.CommandExecutor;
/*    */ import org.bukkit.command.CommandSender;
/*    */ import org.bukkit.entity.Player;
/*    */ 
/*    */ 
/*    */ 
/*    */ 
/*    */ 
/*    */ 
/*    */ 
/*    */ 
/*    */ 
/*    */ 
/*    */ 
/*    */ 
/*    */ 
/*    */ 
/*    */ 
/*    */ 
/*    */ 
/*    */ public class XPMineCommand
/*    */   implements CommandExecutor
/*    */ {
/*    */   private Main main;
/*    */   private XPMineUtils xpUtils;
/*    */   
/*    */   public XPMineCommand(Main plugin) {
/* 34 */     this.main = plugin;
/* 35 */     this.xpUtils = this.main.xpUtils;
/*    */   }
/*    */   
/*    */   public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {
/* 39 */     if (!(sender instanceof Player)) {
/* 40 */       this.main.getLogger().info(ChatColor.RED + "This command is only available for players.");
/* 41 */       return false;
/*    */     } 
/* 43 */     Player p = (Player)sender;
/* 44 */     int lvl = p.getLevel();
/* 45 */     int arg = 0;
/* 46 */     if (this.xpUtils.playersUsedMine.contains(p)) {
/* 47 */       p.sendMessage(ChatColor.RED + "You have already visisted the XP Mine today.");
/* 48 */       return false;
/*    */     } 
/* 50 */     if (!args[0].isEmpty()) {
/*    */       try {
/* 52 */         arg = Integer.parseInt(args[0]);
/* 53 */         if (arg > lvl) {
/* 54 */           p.sendMessage(ChatColor.RED + "You don't have that many levels.");
/* 55 */           return false;
/*    */         }
/*    */       
/* 58 */       } catch (Exception e) {
/* 59 */         p.sendMessage(ChatColor.RED + "Use /XPMine [number of levels] or /XPMine to use all levels.");
/* 60 */         return false;
/*    */       } 
/* 62 */       if (arg < 0) {
/* 63 */         p.sendMessage(ChatColor.RED + "The number of levels must be greater than zero.");
/* 64 */         return false;
/*    */       } 
/*    */     } else {
/* 67 */       arg = lvl;
/*    */     } 
/* 69 */     this.main.getServer().dispatchCommand((CommandSender)this.main.getServer().getConsoleSender(), "warp xpmine " + p.getName());
/* 70 */     this.xpUtils.playersInMine.put(p, Integer.valueOf(arg + 1));
/* 71 */     this.xpUtils.playersUsedMine.add(p);
/* 72 */     return false;
/*    */   }
/*    */ }


/* Location:              C:\Users\Nick\Desktop\KappaKorrectional.jar!\my\mc47y\me\KappaKorrectional\cmds\XPMineCommand.class
 * Java compiler version: 16 (60.0)
 * JD-Core Version:       1.1.3
 */